services:
  # 开发环境不需要 Nginx，直接访问 Webman
  nginx:
    profiles: ["production"]

  # Webman 端口映射到宿主机
  webman:
    ports:
      - "8787:8787"
      - "8788:8788"
    environment:
      - APP_DEBUG=true

# 移动端开发说明：
# 1. docker compose up 启动后端
# 2. cd mobile && npm install && npm run dev 启动移动端开发服务器
# 3. 访问 http://localhost:5173/mobile/ (Vite 自动代理 /api → :8787, /ws → :8788)
# 4. 访问 http://localhost:8787/admin/login 访问后台管理面板
