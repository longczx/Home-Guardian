import{d as _,K as h,L as N,M as o,O as d,u as e,E as a,B as n,P as B,D as S,Q as C,R as g,S as y,T as b,U as D,V as R,r as x,v as K}from"./naive-ui-BdchKIzk.js";import{u as V,a as j,b as A}from"./index-WsV9NrLY.js";import{l as F}from"./auth-DDTZrqHv.js";import"./request-DAKZCXKs.js";const L={class:"w-full max-w-[400px]"},T={class:"text-center mb-8"},U={class:"flex items-center justify-center gap-3 mb-3"},G=_({__name:"Login",setup(q){const v=A(),f=h(),k=V(),l=j(),m=x(null),i=x(!1),r=K({username:"",password:""}),w={username:{required:!0,message:"è¯·è¾“å…¥ç”¨æˆ·å",trigger:"blur"},password:{required:!0,message:"è¯·è¾“å…¥å¯†ç ",trigger:"blur"}};async function c(){var p,s,t;try{await((p=m.value)==null?void 0:p.validate())}catch{return}i.value=!0;try{const u=await F(r);k.setTokens(u.data.access_token,u.data.refresh_token),f.success("ç™»å½•æˆåŠŸ"),v.push("/")}catch(u){f.error(((t=(s=u.response)==null?void 0:s.data)==null?void 0:t.message)||"ç™»å½•å¤±è´¥")}finally{i.value=!1}}return(p,s)=>(S(),N("div",{class:"min-h-screen flex items-center justify-center p-4",style:d({background:e(l).isDark?"#101014":"#f0f2f5"})},[o("div",L,[o("div",T,[o("div",U,[s[2]||(s[2]=o("div",{class:"w-12 h-12 rounded-xl flex items-center justify-center text-2xl",style:{background:"linear-gradient(135deg, #18a058, #2080f0)"}}," ðŸ  ",-1)),o("h1",{class:"text-3xl font-bold",style:d({color:e(l).isDark?"#fff":"#1a1a1a"})}," Home Guardian ",4)]),o("p",{style:d({color:e(l).isDark?"rgba(255,255,255,0.45)":"rgba(0,0,0,0.45)"})}," æ™ºèƒ½å®¶å±…å®ˆæŠ¤å¹³å° ",4)]),a(e(B),{style:d({backgroundColor:e(l).cardBg,backdropFilter:"blur(12px)",borderRadius:"12px",border:e(l).isDark?"1px solid rgba(255,255,255,0.06)":"1px solid rgba(0,0,0,0.08)"})},{default:n(()=>[a(e(C),{ref_key:"formRef",ref:m,model:r,rules:w,size:"large"},{default:n(()=>[a(e(g),{path:"username",label:"ç”¨æˆ·å"},{default:n(()=>[a(e(y),{value:r.username,"onUpdate:value":s[0]||(s[0]=t=>r.username=t),placeholder:"è¯·è¾“å…¥ç”¨æˆ·å",onKeyup:b(c,["enter"])},null,8,["value"])]),_:1}),a(e(g),{path:"password",label:"å¯†ç "},{default:n(()=>[a(e(y),{value:r.password,"onUpdate:value":s[1]||(s[1]=t=>r.password=t),type:"password","show-password-on":"click",placeholder:"è¯·è¾“å…¥å¯†ç ",onKeyup:b(c,["enter"])},null,8,["value"])]),_:1}),a(e(D),{type:"primary",block:"",strong:"",loading:i.value,onClick:c,class:"mt-2"},{default:n(()=>[...s[3]||(s[3]=[R(" ç™» å½• ",-1)])]),_:1},8,["loading"])]),_:1},8,["model"])]),_:1},8,["style"])])],4))}});export{G as default};
