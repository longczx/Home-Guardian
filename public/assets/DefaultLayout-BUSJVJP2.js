import{a as V,u as H,c as L,b as A}from"./index-WsV9NrLY.js";import{a as G}from"./auth-DDTZrqHv.js";import{d as c,D as r,L as d,M as t,W as b,K as P,z as f,B as n,u as e,X as g,E as o,O as _,Y as q,Z as R,_ as U,$ as E,a0 as T,U as m,a1 as p,a2 as C,a3 as I,a4 as K,a5 as W,a6 as X,a7 as Y,c as v,C as Z,h as y}from"./naive-ui-BdchKIzk.js";import{H as F}from"./HardwareChipOutline-BraMyU4d.js";import"./request-DAKZCXKs.js";const J={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Q=t("path",{d:"M416 221.25V416a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V96a48 48 0 0 1 48-48h98.75a32 32 0 0 1 22.62 9.37l141.26 141.26a32 32 0 0 1 9.37 22.62z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),ee=t("path",{d:"M256 56v120a32 32 0 0 0 32 32h120",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),te=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 288h160"},null,-1),oe=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 368h160"},null,-1),ne=[Q,ee,te,oe],$=c({name:"DocumentTextOutline",render:function(l,s){return r(),d("svg",J,ne)}}),re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},se=b('<circle cx="160" cy="96" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="160" cy="416" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 368V144"></path><circle cx="352" cy="160" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path d="M352 208c0 128-192 48-192 160" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path>',5),le=[se],ie=c({name:"GitBranchOutline",render:function(l,s){return r(),d("svg",re,le)}}),ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},de=t("rect",{x:"48",y:"48",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ae=t("rect",{x:"288",y:"48",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ue=t("rect",{x:"48",y:"288",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),he=t("rect",{x:"288",y:"288",width:"176",height:"176",rx:"20",ry:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ke=[de,ae,ue,he],we=c({name:"GridOutline",render:function(l,s){return r(),d("svg",ce,ke)}}),pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_e=t("path",{d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),me=t("path",{d:"M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),xe=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 179V64h-48v69"},null,-1),fe=[_e,me,xe],ge=c({name:"HomeOutline",render:function(l,s){return r(),d("svg",pe,fe)}}),Ce={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ve=t("path",{d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ye=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 336l80-80l-80-80"},null,-1),$e=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 256h256"},null,-1),Me=[ve,ye,$e],be=c({name:"LogOutOutline",render:function(l,s){return r(),d("svg",Ce,Me)}}),je={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Oe=t("rect",{x:"48",y:"96",width:"416",height:"320",rx:"40",ry:"40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Be=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M112 160l144 112l144-112"},null,-1),ze=[Oe,Be],Se=c({name:"MailOutline",render:function(l,s){return r(),d("svg",je,ze)}}),Ne={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},De=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 160h352"},null,-1),Ve=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 256h352"},null,-1),He=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M80 352h352"},null,-1),Le=[De,Ve,He],Ae=c({name:"MenuOutline",render:function(l,s){return r(),d("svg",Ne,Le)}}),Ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Pe=t("path",{d:"M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216c88.68 0 166.73-51.57 200-128c-26.39 11.49-57.38 16-88 16c-119.29 0-216-96.71-216-216z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),qe=[Pe],Re=c({name:"MoonOutline",render:function(l,s){return r(),d("svg",Ge,qe)}}),Ue={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ee=t("path",{d:"M427.68 351.43C402 320 383.87 304 383.87 217.35C383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53c-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43C73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Te=t("path",{d:"M320 384v16a64 64 0 0 1-128 0v-16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ie=[Ee,Te],M=c({name:"NotificationsOutline",render:function(l,s){return r(),d("svg",Ue,Ie)}}),Ke={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},We=t("path",{d:"M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Xe=t("path",{d:"M336 304c-65.17 0-127.84 32.37-143.54 95.41c-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Ye=t("path",{d:"M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ze=t("path",{d:"M206 306c-18.05-8.27-37.93-11.45-59-11.45c-52 0-102.1 25.85-114.65 76.2c-1.65 6.66 2.53 13.25 9.37 13.25H154",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),Fe=[We,Xe,Ye,Ze],Je=c({name:"PeopleOutline",render:function(l,s){return r(),d("svg",Ke,Fe)}}),Qe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},et=t("path",{d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),tt=t("path",{d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),ot=[et,tt],nt=c({name:"PersonOutline",render:function(l,s){return r(),d("svg",Qe,ot)}}),rt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},st=t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 176L225.2 304L176 255.8"},null,-1),lt=t("path",{d:"M463.1 112.37C373.68 96.33 336.71 84.45 256 48c-80.71 36.45-117.68 48.33-207.1 64.37C32.7 369.13 240.58 457.79 256 464c15.42-6.21 223.3-94.87 207.1-351.63z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),it=[st,lt],ct=c({name:"ShieldCheckmarkOutline",render:function(l,s){return r(),d("svg",rt,it)}}),dt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},at=t("rect",{x:"64",y:"320",width:"48",height:"160",rx:"8",ry:"8",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ut=t("rect",{x:"288",y:"224",width:"48",height:"256",rx:"8",ry:"8",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),ht=t("rect",{x:"400",y:"112",width:"48",height:"368",rx:"8",ry:"8",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),kt=t("rect",{x:"176",y:"32",width:"48",height:"448",rx:"8",ry:"8",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),wt=[at,ut,ht,kt],pt=c({name:"StatsChartOutline",render:function(l,s){return r(),d("svg",dt,wt)}}),_t={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},mt=b('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 48v48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 416v48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M403.08 108.92l-33.94 33.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M142.86 369.14l-33.94 33.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M464 256h-48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M96 256H48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M403.08 403.08l-33.94-33.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M142.86 142.86l-33.94-33.94"></path><circle cx="256" cy="256" r="80" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></circle>',9),xt=[mt],ft=c({name:"SunnyOutline",render:function(l,s){return r(),d("svg",_t,xt)}}),gt={class:"flex items-center gap-2"},Ct={class:"ml-1"},jt=c({__name:"DefaultLayout",setup(a){const l=L(),s=A(),j=P(),i=V(),x=H(),h=u=>()=>y(p,null,{default:()=>y(u)}),O=v(()=>{const u=[{label:"ä»ªè¡¨ç›˜",key:"dashboard",icon:h(ge)},{label:"è®¾å¤‡ç®¡ç†",key:"devices",icon:h(F)},{label:"æ•°æ®å›¾è¡¨",key:"telemetry",icon:h(pt)},{type:"divider",key:"d1"},{label:"å‘Šè­¦è§„åˆ™",key:"alert-rules",icon:h(M)},{label:"å‘Šè­¦æ—¥å¿—",key:"alert-logs",icon:h($)},{label:"è‡ªåŠ¨åŒ–",key:"automations",icon:h(ie)},{type:"divider",key:"d2"},{label:"è‡ªå®šä¹‰é¢æ¿",key:"dashboard-editor",icon:h(we)}];return x.hasPermission("users.view")&&u.push({type:"divider",key:"d3"},{label:"ç”¨æˆ·ç®¡ç†",key:"users",icon:h(Je)},{label:"è§’è‰²ç®¡ç†",key:"roles",icon:h(ct)}),u.push({type:"divider",key:"d4"},{label:"é€šçŸ¥æ¸ é“",key:"notification-channels",icon:h(Se)},{label:"å®¡è®¡æ—¥å¿—",key:"audit-logs",icon:h($)}),u}),B=v(()=>{const u=l.name;return u==="device-detail"?"devices":u||"dashboard"});function z(u){s.push({name:u})}const S=[{label:"é€€å‡ºç™»å½•",key:"logout",icon:h(be)}];async function N(u){if(u==="logout"){try{await G()}catch{}x.clearAuth(),j.success("å·²é€€å‡ºç™»å½•"),s.push("/login")}}return(u,k)=>{const D=Z("RouterView");return r(),f(e(g),{"has-sider":"",position:"absolute"},{default:n(()=>[o(e(E),{bordered:"",collapsed:e(i).sidebarCollapsed,"collapse-mode":"width","collapsed-width":64,width:220,"show-trigger":"bar",onCollapse:k[0]||(k[0]=w=>e(i).sidebarCollapsed=!0),onExpand:k[1]||(k[1]=w=>e(i).sidebarCollapsed=!1),"native-scrollbar":!1,style:_({backgroundColor:e(i).isDark?"#18181c":"#fff"})},{default:n(()=>[t("div",{class:R(["flex items-center gap-2 px-4 py-4",e(i).sidebarCollapsed?"justify-center":""])},[k[3]||(k[3]=t("div",{class:"w-8 h-8 rounded-lg flex items-center justify-center text-sm shrink-0",style:{background:"linear-gradient(135deg, #18a058, #2080f0)"}}," ðŸ  ",-1)),e(i).sidebarCollapsed?q("",!0):(r(),d("span",{key:0,class:"font-semibold text-base whitespace-nowrap",style:_({color:e(i).isDark?"#fff":"#1a1a1a"})}," Home Guardian ",4))],2),o(e(U),{collapsed:e(i).sidebarCollapsed,"collapsed-width":64,"collapsed-icon-size":20,options:O.value,value:B.value,"onUpdate:value":z},null,8,["collapsed","options","value"])]),_:1},8,["collapsed","style"]),o(e(g),null,{default:n(()=>[o(e(T),{bordered:"",class:"flex items-center justify-between px-4",style:_({height:"56px",backgroundColor:e(i).isDark?"#18181c":"#fff"})},{default:n(()=>[t("div",gt,[o(e(m),{quaternary:"",circle:"",onClick:e(i).toggleSidebar},{icon:n(()=>[o(e(p),null,{default:n(()=>[o(e(Ae))]),_:1})]),_:1},8,["onClick"]),t("span",{class:"text-base font-medium",style:_({color:e(i).isDark?"rgba(255,255,255,0.82)":"rgba(0,0,0,0.82)"})},C(e(l).meta.title||"Home Guardian"),5)]),o(e(I),{size:8,align:"center"},{default:n(()=>[o(e(m),{quaternary:"",circle:"",onClick:e(i).toggleTheme},{icon:n(()=>[o(e(p),null,{default:n(()=>[e(i).isDark?(r(),f(e(Re),{key:0})):(r(),f(e(ft),{key:1}))]),_:1})]),_:1},8,["onClick"]),o(e(K),{value:e(i).alertCount,max:99,offset:[-4,4]},{default:n(()=>[o(e(m),{quaternary:"",circle:"",onClick:k[2]||(k[2]=w=>e(s).push({name:"alert-logs"}))},{icon:n(()=>[o(e(p),null,{default:n(()=>[o(e(M))]),_:1})]),_:1})]),_:1},8,["value"]),o(e(W),{options:S,trigger:"click",onSelect:N},{default:n(()=>[o(e(m),{quaternary:"",size:"small",class:"ml-2"},{icon:n(()=>[o(e(X),{size:24,round:""},{default:n(()=>[o(e(p),{size:14},{default:n(()=>[o(e(nt))]),_:1})]),_:1})]),default:n(()=>{var w;return[t("span",Ct,C((w=e(x).user)==null?void 0:w.username),1)]}),_:1})]),_:1})]),_:1})]),_:1},8,["style"]),o(e(Y),{"native-scrollbar":!1,"content-class":"p-6","content-style":{backgroundColor:e(i).isDark?"#101014":"#f5f5f5",minHeight:"calc(100vh - 56px)"}},{default:n(()=>[o(D)]),_:1},8,["content-style"])]),_:1})]),_:1})}}});export{jt as default};
